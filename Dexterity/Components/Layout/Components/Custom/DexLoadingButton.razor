<MudButton Class="@Class"
           Disabled="@Processing"
           OnClick="Click"
           Variant="Variant.Filled"
           Color=@Color
           ButtonType="@Type"
           
           FullWidth="@FullWidth">
    @if (Processing)
    {
        <MudProgressCircular Class="ms-n1 white-color" Size="MudSize.Small" Indeterminate="true" />
        <MudText Class="ms-2 white-color">Processing</MudText>
    }
    else
    {
        <MudText Class="white-color">
            <i class="@Icon"></i> @Name
        </MudText>
    }
    </MudButton>

@code {
    [Parameter]
    public string Icon { get; set; } = "";
    [Parameter]
    public string Name { get; set; }

    [Parameter] public string Class { get; set; } = "mt-3";
    [Parameter]
    public bool Processing { get; set; }
    [Parameter]
    public bool FullWidth { get; set; }
    [Parameter]
    public MudBlazor.Color Color { get; set; } = MudBlazor.Color.Primary;
    [Parameter] public MudButtonType Type { get; set; } = MudButtonType.Submit;

    [Parameter]
    public EventCallback Click { get; set; }

    private async Task OnClick()
    {
        Processing = true;
        await Click.InvokeAsync();
        Processing = false;
    }
    }