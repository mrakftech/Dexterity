@using MudBlazor.Extensions.Options
@using Dexterity.Components.Pages.Messaging.Dialogs
<MudNavMenu Style="margin-top: 30px;">
    <MudItem Style="margin-left:0px">
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-home" IconColor="MudColor.Info" Href="/home">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Dashboard</MudText>
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-calendar-check" IconColor="MudColor.Info" Href="/appointments">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Appointment</MudText>
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-hourglass-start" IconColor="MudColor.Info" Href="/waiting-room">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Waiting Room</MudText>
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-user-doctor-message" IconColor="MudColor.Info" Href="/consultation">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Consultation</MudText>
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-hospital-user" IconColor="MudColor.Info" Href="/patient-management">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Patient Manager</MudText>
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-file-invoice" IconColor="MudColor.Info" Href="/reporting">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Reporting</MudText>
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-message-dots" IconColor="MudColor.Info" Href="/messaging">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Messaging</MudText>
        </MudNavLink>
        <MudNavLink Icon="fas fa-tv" IconColor="MudColor.Info" OnClick="OpenVideoLinkModal">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Telehealth</MudText>
        </MudNavLink>
        <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-gear" IconColor="MudColor.Info" Href="/settings">
            <MudText Color="MudColor.Info" Align="MudAlign.Left">Settings</MudText>
        </MudNavLink>

    </MudItem>
    <MudSpacer/>

</MudNavMenu>
<SfDialog Target="#target" Width="300px" ResizeHandles="@DialogResizeDirections" AllowDragging="true" EnableResize="true" ShowCloseIcon="true" @bind-Visible="Visibility">
    <DialogTemplates>
        <Header> Resize Me!!!</Header>
        <Content> This is a dialog with resizable support. </Content>
    </DialogTemplates>
    <DialogEvents OnOpen="@DialogOpen" Closed="@DialogClose"></DialogEvents>
</SfDialog>

@code {


    private bool Visibility { get; set; } = true;
    private bool ShowButton { get; set; } = false;
    private ResizeDirection[] DialogResizeDirections { get; set; } = [ResizeDirection.All];

    private void DialogOpen(Object args)
    {
        ShowButton = false;
    }

    private void DialogClose(Object args)
    {
        ShowButton = true;
    }

    private void OnClicked()
    {
        Visibility = true;
    }

    private async Task OpenVideoLinkModal()
    {
        var parameters = new DialogParameters { };

        var options = new DialogOptionsEx
        {
            Resizeable = true,
            DragMode = MudDialogDragMode.Simple,
            CloseButton = true,
            FullWidth = true,
            MinimizeButton = true,
            Position = DialogPosition.CenterRight,
            Animation = AnimationType.SlideIn,
            AnimationDuration = TimeSpan.FromMilliseconds(500),
        };
        var dialog = await DialogService.ShowEx<TelehealthDialog>("", parameters, options);
    }

}