@layout MainLayout
@page "/settings"
@using Dexterity.Components.Pages.Settings.Components
<style>
    .tab-content{
        width: 75%!important;
    }
</style>
<TopTitleBar Title="Settings"
             Image="modules/settings.svg">
</TopTitleBar>
<MudPaper Height="650px" Style="overflow:hidden; position:relative;margin-top: 3%">
    <MudDrawerContainer Class="mud-height-full">
        <MudDrawer Class="sub-drawer" Style="" @bind-Open="@_open" Fixed="false" Elevation="1" Variant="@DrawerVariant.Mini"
                   OpenMiniOnHover="true">
            <MudNavMenu>
                <MudNavGroup Title="  Categories & Templates" Expanded="true">
                    <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-comment-sms" IconColor="MudColor.Info"
                                @onclick="@(() => ClickChanged("sms-templates"))">
                        Sms Templates
                    </MudNavLink>
                    <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-house-chimney-medical" IconColor="MudColor.Info"
                                @onclick="@(() => ClickChanged("clinics"))">
                        Clinics
                    </MudNavLink>
                </MudNavGroup>
            </MudNavMenu>
        </MudDrawer>
        <div class="d-flex justify-center align-center" > 
            <Tabs SelectedTab="@_selectedTab" Style="width: 50%;">
                <Content>
                    <TabPanel Name="sms-templates">
                        <SmsTemplateTab/>
                    </TabPanel>
                    <TabPanel Name="clinics">
                        <ClinicTab/>
                    </TabPanel>
                </Content>
            </Tabs>
        </div>
    </MudDrawerContainer>
</MudPaper>


@code {
    private bool _open = true;
    string _selectedTab = "sms-templates";

    private void ClickChanged(string tabName)
    {
        _selectedTab = tabName;
    }

}