@layout MainLayout
@page "/appointments"
@using Dexterity.Components.Pages.Appointments.Components
@using Width = Blazorise.Width
<TopTitleBar Title="Appointments"
             Image="modules/appointment.svg">
</TopTitleBar>
<style>
    .tab-content{
        width: 75%!important;
    }
</style>
<div style="margin-top: 2%">
    
    <MudPaper Height="800px" Style="overflow:hidden; position:relative;">
        <MudDrawerContainer Class="mud-height-full">
            <MudDrawer Class="sub-drawer" Style="" @bind-Open="@_open" Fixed="false" Elevation="1" Variant="@DrawerVariant.Mini"
                       OpenMiniOnHover="true">
                <MudNavMenu>
                    <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-calendar-range" IconColor="MudColor.Info"
                                @onclick="@(() => ClickChanged("appointments"))">
                        Appointments
                    </MudNavLink>
                    <MudNavLink Match="NavLinkMatch.All" Icon="fas fa-calendar-circle-plus" IconColor="MudColor.Info"
                                @onclick="@(() => ClickChanged("new-appointments"))">
                        New Appointment
                    </MudNavLink>
                </MudNavMenu>
            </MudDrawer>
            <div class="d-flex justify-center align-center">
                <Tabs SelectedTab="@_selectedTab"  Width="Width.Is100">
                    <Content>
                        <TabPanel Name="appointments">
                            <AppointmentList/>
                        </TabPanel>
                        <TabPanel Name="new-appointments">
                        </TabPanel>
    
                    </Content>
                </Tabs>
            </div>
        </MudDrawerContainer>
    </MudPaper>
</div>

@code {
    private bool _open = false;
    string _selectedTab = "appointments";

    private void ClickChanged(string tabName)
    {
        _selectedTab = tabName;
    }

}