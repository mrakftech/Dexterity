@layout MainLayout
@page "/home"
@using Dexterity.Components.Pages.Dashboard.Components

@using Position = MudBlazor.Position

<MudContainer Style="margin-top:8%" MaxWidth="MaxWidth.ExtraExtraLarge">
  <MudGrid Justify="MudJustify.Center">
    <MudItem>
      <MudImage Src="assets/images/large_logo.png" Alt="logo" Fluid="true" Width="300"></MudImage>
    </MudItem>
    <MudItem md="12">
      <MudGrid Justify="MudJustify.Center" Spacing="15">
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-purple" Title="Patients" Count="56" Image="patient-m-card-img" ForceColor="#FFF"/>
        </MudItem>
        <MudItem md="4">
          <MetricsCard BgColor=" bg-c-blue" Title="Appointments" Count="150" Image="appt-card-img"/>
        </MudItem>
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-green" Title="Waiting" Count="56" Image="waiting-card-img"/>
        </MudItem>
      </MudGrid>
    </MudItem>
    <MudItem md="12">
      <MudGrid Justify="MudJustify.Center" Spacing="15">
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-yellow" Title="Consultations" Count="90" Image="consultation-card-img"/>
        </MudItem>
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-light-purple" Title="Setting" Count="56" Image="setting-card-img"/>
        </MudItem>
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-sky-blue" Title="Report Card" Count="90" Image="report-card-img"/>
        </MudItem>
      </MudGrid>
    </MudItem>
    <MudItem md="12">
      <MudGrid Justify="MudJustify.Center" Spacing="15">
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-rainbow" Title="Instant Messaging" Count="556" Image="instant-messaging-card-img"/>
        </MudItem>
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-orange" Title="Messages" Count="480" Image="message-card-img"/>
        </MudItem>
        <MudItem md="4">
          <MetricsCard BgColor="bg-c-pink" Title="My Tasks" Count="90" Image="my-task-card-img"/>
        </MudItem>
      </MudGrid>
    </MudItem>

    <MudItem md="12" Style="margin-top: 5%">
      <MudStack Row>
        <MudItem md="6">
          <MudPaper >
            <MudChart ChartType="MudBlazor.ChartType.Bar"
              ChartSeries="@Series"
              @bind-SelectedIndex="Index"
              LegendPosition="Position.Right"
              XAxisLabels="@XAxisLabels" Width="100%" Height="350px"></MudChart>
          </MudPaper>
        </MudItem>
        <MudSpacer/>
        <MudItem md="6">
          <MudPaper >
            <MudChart
              ChartType="MudBlazor.ChartType.Donut"
              LegendPosition="Position.Right" Width="300px" Height="350px"
              InputData="@data" InputLabels="@labels">
            </MudChart>
          </MudPaper>
        </MudItem>
      </MudStack>
    </MudItem>
  </MudGrid>
</MudContainer>

@code{

  private int Index = -1; //default value cannot be 0 -> first selectedindex is 0.
  public double[] data = { 25, 77, 28, 5 };
  public string[] labels = { "Oil", "Coal", "Gas", "Biomass" };
  public List<ChartSeries> Series = new List<ChartSeries>()
  {
    new ChartSeries() { Name = "United States", Data = new double[] { 40, 20, 25, 27, 46, 60, 48, 80, 15 } },
    new ChartSeries() { Name = "Germany", Data = new double[] { 19, 24, 35, 13, 28, 15, 13, 16, 31 } },
    new ChartSeries() { Name = "Sweden", Data = new double[] { 8, 6, 11, 13, 4, 16, 10, 16, 18 } },
  };
  public string[] XAxisLabels = { "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep" };

}